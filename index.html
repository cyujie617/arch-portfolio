<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ARCHIVE | Internal Database</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600&display=swap" rel="stylesheet">
    <style>
        body { background-color: #111; color: #eee; font-family: 'Inter', sans-serif; }
        /* 隐藏滚动条但允许滚动 */
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: #111; }
        ::-webkit-scrollbar-thumb { background: #333; border-radius: 4px; }
        
        .filter-btn.active { border-bottom: 1px solid white; color: white; }
        
        /* 瀑布流布局 */
        .masonry-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 24px;
            grid-auto-flow: dense;
        }
        
        /* 图片悬停 */
        .card-hover:hover img { transform: scale(1.05); }
        .card-hover:hover .overlay { opacity: 1; }
    </style>
</head>
<body class="min-h-screen p-8">

    <!-- 顶部：标题与搜索 -->
    <header class="flex flex-col md:flex-row justify-between items-start md:items-end mb-12 border-b border-gray-800 pb-6">
        <div>
            <h1 class="text-3xl font-bold tracking-tight mb-2">TEAM ARCHIVE_</h1>
            <p class="text-xs text-gray-500 uppercase tracking-widest">Reference Database v1.0</p>
        </div>
        
        <!-- 筛选控制器 -->
        <div class="mt-6 md:mt-0 flex flex-wrap gap-6 text-sm text-gray-500">
            <button onclick="filterGallery('all')" class="filter-btn active hover:text-white transition">ALL</button>
            <button onclick="filterGallery('museum')" class="filter-btn hover:text-white transition">MUSEUMS</button>
            <button onclick="filterGallery('residential')" class="filter-btn hover:text-white transition">RESIDENTIAL</button>
            <button onclick="filterGallery('concrete')" class="filter-btn hover:text-white transition">CONCRETE</button>
            <button onclick="filterGallery('brick')" class="filter-btn hover:text-white transition">BRICK</button>
        </div>
    </header>

    <!-- 画廊区域 -->
    <main id="gallery" class="masonry-grid">
        <!-- 内容将通过 JS 自动生成 -->
    </main>

    <!-- 详情弹窗 (Modal) -->
    <div id="modal" class="fixed inset-0 bg-black/90 z-50 hidden flex justify-center items-center p-4 opacity-0 transition-opacity duration-300">
        <div class="bg-[#1a1a1a] max-w-5xl w-full max-h-[90vh] overflow-y-auto rounded-sm flex flex-col md:flex-row relative">
            <button onclick="closeModal()" class="absolute top-4 right-4 text-white text-2xl hover:rotate-90 transition">&times;</button>
            
            <div class="w-full md:w-2/3">
                <img id="modal-img" src="" class="w-full h-full object-cover" alt="">
            </div>
            
            <div class="w-full md:w-1/3 p-8 flex flex-col justify-between">
                <div>
                    <div id="modal-tags" class="flex gap-2 mb-4 text-[10px] uppercase tracking-widest text-gray-400"></div>
                    <h2 id="modal-title" class="text-3xl font-light mb-2 text-white"></h2>
                    <p id="modal-architect" class="text-sm text-gray-500 mb-6 border-b border-gray-700 pb-4"></p>
                    <p id="modal-desc" class="text-sm text-gray-300 leading-relaxed"></p>
                </div>
                
                <div class="mt-8 pt-8 border-t border-gray-800 text-xs text-gray-600">
                    <p>Source: <span id="modal-year"></span></p>
                    <p>Location: <span id="modal-loc"></span></p>
                </div>
            </div>
        </div>
    </div>

    <script>
        // ==========================================
        // 1. 数据库 (您只需要在这里添加数据)
        // ==========================================
        const database = [
            {
                id: 1,
                title: "Kolumba Museum",
                architect: "Peter Zumthor",
                year: "2007",
                location: "Cologne, Germany",
                tags: ["museum", "brick", "cultural"], // 标签用于筛选
                desc: "A museum built on the ruins of a Gothic church. The grey brickwork filters light into the interior creating a spiritual atmosphere.",
                image: "https://images.unsplash.com/photo-1516967124798-10656f7dca28?q=80&w=1000&auto=format&fit=crop"
            },
            {
                id: 2,
                title: "Villa Vals",
                architect: "SeARCH & CMA",
                year: "2009",
                location: "Vals, Switzerland",
                tags: ["residential", "concrete", "underground"],
                desc: "Designed to integrate fully into the landscape to avoid disturbing the bath views nearby.",
                image: "https://images.unsplash.com/photo-1464146072230-91cabc968266?q=80&w=1000&auto=format&fit=crop"
            },
            {
                id: 3,
                title: "Brutal Gallery",
                architect: "Unknown",
                year: "2022",
                location: "London, UK",
                tags: ["museum", "concrete"],
                desc: "Raw concrete textures meeting soft natural light.",
                image: "https://images.unsplash.com/photo-1485628390555-973478e9d5c9?q=80&w=1000&auto=format&fit=crop"
            },
            {
                id: 4,
                title: "Red Brick House",
                architect: "Studio A",
                year: "2020",
                location: "Beijing, China",
                tags: ["residential", "brick"],
                desc: "Modern interpretation of traditional courtyard living.",
                image: "https://images.unsplash.com/photo-1501183638710-841dd1904471?q=80&w=1000&auto=format&fit=crop"
            }
            // 复制上面的 { ... }, 粘贴在下面即可添加新案例
        ];

        // ==========================================
        // 2. 渲染逻辑 (不需要修改)
        // ==========================================
        const gallery = document.getElementById('gallery');

        function renderCards(data) {
            gallery.innerHTML = '';
            data.forEach(item => {
                const card = document.createElement('div');
                card.className = 'relative group overflow-hidden cursor-pointer card-hover bg-[#1a1a1a]';
                card.onclick = () => openModal(item);
                
                card.innerHTML = `
                    <div class="aspect-[3/4] overflow-hidden">
                        <img src="${item.image}" class="w-full h-full object-cover transition duration-700 ease-out" alt="${item.title}">
                    </div>
                    <div class="overlay absolute inset-0 bg-black/60 opacity-0 transition duration-300 flex flex-col justify-end p-6">
                        <p class="text-xs text-orange-500 uppercase tracking-wider mb-1">${item.tags[0]}</p>
                        <h3 class="text-xl font-light text-white">${item.title}</h3>
                        <p class="text-xs text-gray-400 mt-1">${item.architect}</p>
                    </div>
                `;
                gallery.appendChild(card);
            });
        }

        // 初始渲染
        renderCards(database);

        // ==========================================
        // 3. 筛选功能
        // ==========================================
        function filterGallery(filter) {
            // 更新按钮状态
            document.querySelectorAll('.filter-btn').forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');

            if (filter === 'all') {
                renderCards(database);
            } else {
                const filtered = database.filter(item => item.tags.includes(filter));
                renderCards(filtered);
            }
        }

        // ==========================================
        // 4. 弹窗逻辑
        // ==========================================
        const modal = document.getElementById('modal');

        function openModal(item) {
            document.getElementById('modal-img').src = item.image;
            document.getElementById('modal-title').innerText = item.title;
            document.getElementById('modal-architect').innerText = item.architect;
            document.getElementById('modal-desc').innerText = item.desc;
            document.getElementById('modal-year').innerText = item.year;
            document.getElementById('modal-loc').innerText = item.location;
            
            // 生成标签HTML
            const tagsHtml = item.tags.map(t => `<span class="border border-gray-700 px-2 py-1 rounded text-[9px]">${t}</span>`).join('');
            document.getElementById('modal-tags').innerHTML = tagsHtml;

            modal.classList.remove('hidden');
            // 稍微延迟加 opacity 实现淡入
            setTimeout(() => modal.classList.remove('opacity-0'), 10);
        }

        function closeModal() {
            modal.classList.add('opacity-0');
            setTimeout(() => modal.classList.add('hidden'), 300);
        }
        
        // 点击背景关闭
        modal.addEventListener('click', (e) => {
            if (e.target === modal) closeModal();
        });

    </script>
</body>
</html>